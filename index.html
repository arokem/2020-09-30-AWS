<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="description" content="AWS Education Research Seminar Series">
		<meta name="author" content="Ariel Rokem">

		<title>Cloud computing for the era of brain observatories</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/arokem.css">
		<link rel="stylesheet" href="css/custom.css">
        <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-1.1.0.min.css" type="text/css" />
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.1.0.min.js"></script>

        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<script>
            function canvas_arrow_two_heads(context, fromx, fromy, tox, toy){
                let headlen = 10;   // length of head in pixels
                let angle = Math.atan2(toy-fromy,tox-fromx);
                context.moveTo(fromx, fromy);
                context.lineTo(fromx+headlen*Math.cos(angle+Math.PI/6),fromy+headlen*Math.sin(angle+Math.PI/6));
                context.moveTo(fromx, fromy);
                context.lineTo(fromx+headlen*Math.cos(angle-Math.PI/6),fromy+headlen*Math.sin(angle-Math.PI/6));
                context.moveTo(fromx, fromy);
                context.lineTo(tox, toy);
                context.lineTo(tox-headlen*Math.cos(angle-Math.PI/6),toy-headlen*Math.sin(angle-Math.PI/6));
                context.moveTo(tox, toy);
                context.lineTo(tox-headlen*Math.cos(angle+Math.PI/6),toy-headlen*Math.sin(angle+Math.PI/6));}
        </script>

	</head>
	<body>
	<div class="reveal">
	<div class="slides">

	<section>
		<em>
		<h2>Cloud computing for the era of brain observatories</h2>
        </em>
		<a href="https://aws.amazon.com/government-education/research-and-technical-computing/research-seminar-series/">Amazon Web Services Education: Research Seminar Series</a><br>
		September 30th, 2020
        <h3><p><a href="http://arokem.org">Ariel Rokem</a></h3>
        <a href="https://psych.uw.edu">Department of Psychology</a><br>
        <a href="http://escience.washington.edu">eScience Institute</a>
		<a href="https://uw.edu"><img src="img/UW-logo.png"  align="middle"></a>
		<p><small>Follow along at: <t><a href="https://arokem.github.io/2020-UW-Psych">https://arokem.github.io/2020-09-30-AWS</t></a></small></p>
		<img src="img/cc-by.png" height="30px" alt="License" align="middle">
    </section>

	<section>
		<div style="position: absolute; left:0px; top:100px;" align="left">
            Adam Richie-Halford
            <br>
            <img src="img/adam.jpeg" height="140px">
            <br>
            John Kruper
            <br>
            <img src="img/john-kruper.png" height="140px" align="center">
            <br>
            Anisha Keshavan
            <br>
            Josh Smith
            <br>
			Jason Yeatman (Stanford)
			<br>
			Noah Simon (UW Biostats)
			<br>
			Eleftherios Garyfallidis (IU)
		</div>

		<div style="position: absolute; left:500px; top:80px;">
			<img src="img/msdse-sponsors.png" height="50px">
			<br>
			<img src="img/nimh-logo.gif" height="50px">
			<img src="img/nibib-logo.png" height="50px">
			<br>
			<img src="img/BMGF-logo.png" height="100px">
			<img src="img/nsf-logo.jpeg" height="100px">
			<br>
			<img src="img/eScience.png" height="80px">
		</div>
	</section>

    <section>
        <img src="img/cloud_city.jpg">
    </section>

    <section>
        <h4>The brain</h4>
        <img src="./img/white-matter-connections.gif">
        <div class="cite" style="position: absolute; left:400px;">
            Image from <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan, <b>Rokem</b> (2018)</a>
        </div>
    </section>

    <section>
        <h3>The era of brain observatories</h3>
         <div class="row fragment fade-in">
                <div class="col-13 textcol">
                    <img class="logo" src="img/aibs-logo.png" width="200" align="middle" alt="" border="0">
                </div>
                <div class="textcol col-23">
                    <ul>
                    <p>
                        Allen Institute for Brain Science<br>
                    </p>
                    </ul>
            </div>
        </div>

        <div class="row fragment fade-in">
            <div class="col-13 textcol">
            <img class="logo" src="img/hcp-logo.jpg" width="200" align="middle" alt="Human Connectome Project logo" border="0">
            </div>
            <div class="textcol col-23">
            <ul>
                <p>
                Human Connectome Project (HCP), N = 1,200
                </p>
            </ul>
            </div>
        </div>

        <div class="row fragment fade-in">
            <div class="col-13 textcol">
            <img class="logo" src="img/abcd-logo.png" width="300" align="middle" alt="Adolescent Brain Cognitive Development logo">
            </div>
            <div class="textcol col-23">
            <ul>
                <p>
                Adolescent Brain Cognitive Development (ABCD), <br> N = 10,000
                </p>
            </ul>
            </div>
        </div>

        <div class="row fragment fade-in">
            <div class="col-13 textcol">
            <img class="logo" src="img/child-mind-institute-hbn-logo.jpg" width="200" align="middle" alt="Healthy Brain Network logo">
            </div>
            <div class="textcol col-23">
            <ul>
                <p>
                Healthy Brain Network (HBN),&nbsp; N = 10,000
                </p>
            </ul>
            </div>
        </div>

        <div class="row fragment fade-in">
            <div class="col-13 textcol">
            <img class="logo" src="img/biobank-logo.png" width="200" align="middle" alt="UK Biobank logo">
            </div>
            <div class="textcol col-23">
            <ul>
                <p>
                UK Biobank, &nbsp; N = 500,000
                </p>
            </ul>
            </div>
        </div>
    </section>


    <section>
        <h3>Human Connectome Project extensions</h3>
        <p>Lifespan development</p>
        <p>Brain aging and dementia</p>
        <p>Alzheimer's subtypes</p>
        <p>Anxiety and depression in teenagers</p>
        <p>Amish Connectome (mental illness)</p>
        <p>Low vision and blindness</p>
    </section>


    <section>
		<h2>Opportunities</h2>
        <p class="fragment">New data sets will enable important new discoveries</p>
		<h3 class="fragment"><em>Data-driven discovery</em></h3>
    </section>

    <section>
        <h2>Data-driven discovery</h2>
        <p class="fragment">Data aggregation and integration
        <p class="fragment">Machine learning and data mining
        <p class="fragment">Data visualization and communication
        <p class="fragment">Insights into the brain basis of complex behaviors
        <p class="fragment">Personalized medicine
    </section>

    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3 class="fragment">Data-driven discovery in human neuroscience</h3>
        <h4 class="fragment">Studying brain connections with diffusion MRI </h4>
        <h4 class="fragment">Open-source software for diffusion MRI</h4>
        <h4 class="fragment">Automated tract segmentation and tractometry</h4>
        <h3 class="fragment">Data-driven discovery in the cloud</h3>
        <h4 class="fragment">Cloudknot: analysis at brain-observatory scale</h4>
        <h4 class="fragment">browser-based visualization of brain connections</h4>
        </div>
    </section>

    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4>Studying brain connections with diffusion MRI </h4>
        <h4 style="color:#D3D3D3;">Automated tract segmentation and tractometry</h4>
        <h4 style="color:#D3D3D3;">Open-source software for diffusion MRI</h4>
        <h3 style="color:#D3D3D3;">Data-driven discovery in the cloud</h3>
        <h4 style="color:#D3D3D3;">Cloudknot: analysis at brain-observatory scale</h4>
        <h4 style="color:#D3D3D3;">browser-based visualization of brain connections</h4>
        </div>
    </section>

    <section>
        <h4>Brain networks</h4>
        <img src="./img/white-matter-connections.gif">
        <div class="cite" style="position: absolute; left:400px;">
            Image from <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan, <b>Rokem</b> (2018)</a>
        </div>
    </section>

    <section>
        <h3>Disconnectivity syndromes</h3>
        <img src="./img/OldenDays.png" height="400">
        <div class="cite">
            Image from Catani and ffytche (2015)
        </div>
    </section>

    <section>
        <h2>Not just static cables!</h2>
		<p class="fragment">Brain connections develop and mature with age</p>
		<p class="fragment">Individual differences account for differences in behaviour</p>
        <p class="fragment">Adapt and change with learning</p>
        <p class="fragment">Brain network health is important for mental health</p>

        <div class="cite" style="position: absolute; left:600px;">
            Reviewed in <a href="http://jov.arvojournals.org/article.aspx?articleid=2603187"> <b>Rokem</b> et al. (2017), Journal of Vision</a>
        </div>
    </section>

    <section>
        <h4>Diffusion MRI measures the physical properties of brain connections </h4>
		<video width="600" autoplay loop>
			<source src="./img/diffusion-isotropic.mp4">
		</video>

		<div class="cite" style="position: absolute; left: 650px" >
            <a href="http://jov.arvojournals.org/article.aspx?articleid=2603187"><b>Rokem</b> et al. (2017), Journal of Vision</a>
            <br>
			<a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0123272"><b>Rokem</b> et al. (2015), PLoS One</a>
		</div>

	</section>

	<section>
        <h4>Diffusion MRI</h4>

		<div style="position: absolute; left: 14px;">
			<img src="img/tensor-stats1.png" height="400"  >
			<div style="position: absolute; left: 75px; top: 420px;">
                <small>Mean diffusivity</small>

			</div>
			<div style="position: absolute; left: -8px;">
				<img src="img/md-scale.png" height="40" >
			</div>
			<div style="position: absolute; left: 222px; top:432px; ">
				<img src="img/md-units.png" height="50" >
            </div>
        </div>

    </section>


    <section>
		<h4>Diffusion MRI</h4>
		<div class = "fragment fade-in" style="position: absolute">
			<canvas id="arrows-iso-horiz" width="1000" height="1000">
			</canvas>
			<script>
				context = document.getElementById('arrows-iso-horiz').getContext("2d");
				context.beginPath();
				canvas_arrow_two_heads(context, 390, 450, 590, 450);
				context.lineWidth = 2;
				context.stroke();
			</script>
		</div>
		<div class = "fragment fade-in" style="position: absolute">
			<canvas id="arrows-iso-vert" width="1000" height="1000">
			</canvas>
			<script>
				context = document.getElementById('arrows-iso-vert').getContext("2d");
				context.beginPath();
				canvas_arrow_two_heads(context, 250, 350, 250, 150);
				context.lineWidth = 2;
				context.stroke();
			</script>
		</div>

		<div class="fragment" text-align: left>
			Isotropic diffusion
		</div>
		<video width="600" autoplay loop>
			<source src="./img/diffusion-isotropic.mp4">
		</video>

		<div class="cite" style="position: absolute; left: 650px" >
            <a href="http://jov.arvojournals.org/article.aspx?articleid=2603187"><b>Rokem</b> et al. (2017), Journal of Vision</a>
            <br>
			<a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0123272"><b>Rokem</b> et al. (2015), PLoS One</a>
		</div>

	</section>

	<section>
		<h4>Diffusion MRI</h4>
		<div class = "fragment fade-in" style="position: absolute">
			<canvas id="arrows-aniso-horiz" width="1000" height="1000">
			</canvas>
			<script>
				context = document.getElementById('arrows-aniso-horiz').getContext("2d");
				context.beginPath();
				canvas_arrow_two_heads(context, 370, 400, 610, 400);
				context.lineWidth = 2;
				context.stroke();
			</script>
		</div>

        <div class = "fragment fade-in" style="position: absolute">
                <canvas id="arrows-aniso-vert" width="1000" height="1000">
                </canvas>
                <script>
                    context = document.getElementById('arrows-aniso-vert').getContext("2d");
                    context.beginPath();
                    canvas_arrow_two_heads(context, 250, 325, 250, 175);
                    context.lineWidth = 2;
                    context.stroke();
                </script>
        </div>

		<div class="fragment" text-align:left;>
			Anisotropic diffusion
		</div>
		<video width="600" autoplay loop>
			<source src="./img/diffusion-anisotropic.mp4">
		</video>
		<div class="cite" style="position: absolute; left: 650px" >
                <a href="http://jov.arvojournals.org/article.aspx?articleid=2603187"><b>Rokem</b> et al. (2017), Journal of Vision</a>
                <br>
                <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0123272"><b>Rokem</b> et al. (2015), PLoS One</a>
            </div>
        </section>

	<section>
        <h4>Diffusion MRI</h4>

		<div style="position: absolute; left: 14px;">
			<img src="img/tensor-stats1.png" height="400"  >
			<div style="position: absolute; left: 75px; top: 420px;">
				<small>Mean diffusivity</small>
			</div>
			<div style="position: absolute; left: -8px;">
				<img src="img/md-scale.png" height="40" >
			</div>
			<div style="position: absolute; left: 222px; top:432px; ">
				<img src="img/md-units.png" height="50" >
			</div>
		</div>
		<div class="fragment fade-in" style="position: absolute; left: 7px;">
			<img src="img/tensor-stats2.png" height="400"  >

            <div style="position: absolute; left: 310px; top: 430px;">
				<img src="img/fa-scale.png" height="120">
			</div>

			<div style="position: absolute; left: 350px; top: 420px;">
				<small>Fractional anisotropy</small>
			</div>

		</div>
		<div class="fragment fade-in" style="position: absolute; left: 0px;">
			<img src="img/tensor-stats3.png" height="400"  >
			<div style="position: absolute; left: 600px; top: 420px;">
				<small>Principal diffusion direction</small>
			</div>
			<div style="position: absolute; left: 700px; top:432px; ">
				<img src="img/axes.png" height="100" >
			</div>
		</div>
		<div class="cite" style="position: absolute; top: 620px; left: 650px" >
                <a href="http://jov.arvojournals.org/article.aspx?articleid=2603187"><b>Rokem</b> et al. (2017), Journal of Vision</a>
                <br>
                <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0123272"><b>Rokem</b> et al. (2015), PLoS One</a>
            </div>
    </section>


    <section>
        <h3>From diffusion to anatomy</h3>
        <div style="position: absolute; left: 210px;">
        <img src="img/axial_slice.png" height="505">
        </div>

        <div class = "fragment fade-in" style="position: absolute;">

        <canvas id="zoom-box" width="1000" height="1000"></canvas>
            <script>
              var canvas = document.getElementById('zoom-box');
              var context = canvas.getContext('2d');

              context.beginPath(430, 200);
              context.moveTo(430, 200);
              context.lineTo(430, 250);
              context.lineTo(480, 250);
              context.lineTo(480, 200);
              context.lineTo(430, 200);

              context.lineWidth = 2;

              // line color
              context.strokeStyle = 'white';
              context.stroke();
            </script>
          </div>
          <div class="cite" style="position: absolute; left:0px top:500px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
    </div>

    </section>

    <section>
        <h3>From diffusion to anatomy</h3>
        <div style="position: absolute;">
        <img src="img/d2t-bkgrnd.png" style="background:none; border:none; box-shadow:none;" height="505", width="766">
    </div>
        <div class="fragment" style="position: absolute; left: 93px; top:47px;"><img src="img/tensor_ellipsoids.png" style="background:none; border:none; box-shadow:none; opacity:0.4; filter:alpha(opacity=40);">
        </div>
        <div class = "fragment fade-in" style="position: absolute;">
        <canvas id="fiber" width="1000" height="1000"></canvas>
            <script>
              var canvas = document.getElementById('fiber');
              var context = canvas.getContext('2d');

              context.beginPath();
              context.moveTo(590, 170);
              context.bezierCurveTo(400, 300, 365, 80, 378, 65);
              context.lineWidth = 10;

              // line color
              context.strokeStyle = 'yellow';
              context.stroke();
            </script>
          </div>
          <div class="cite" style="position: absolute; left:0px top:500px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
        </div>
    </section>

    <section>
        <h3>From diffusion to anatomy</h3>
        <video width="500" autoplay loop>
          <source src="./img/cc_tube_movie-373.mov">
        </video>
        <div class="cite" style="position: absolute; left:0px top:500px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
    </div>
    </section>
    <section>
        <h3>From diffusion to anatomy</h3>
        <video width="500" autoplay loop>
          <source src="./img/whole_brain.mp4">
        </video>
        <div class="cite" style="position: absolute; left:0px top:500px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
    </div>
    </section>

    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4 style="color:#D3D3D3;">Studying brain connections with diffusion MRI </h4>
        <h4 >Automated tract segmentation and tractometry</h4>
        <h4 style="color:#D3D3D3;">Open-source software for diffusion MRI</h4>
        <h3 style="color:#D3D3D3;">Data-driven discovery in the cloud</h3>
        <h4 style="color:#D3D3D3;">Cloudknot: analysis at brain-observatory scale</h4>
        <h4 style="color:#D3D3D3;">browser-based visualization of brain connections</h4>
        </div>
    </section>


    <section>
        <h3>From diffusion to anatomy</h3>
        <p>The 3D structure of each brain is unique</p>
        <img src="./img/tract_groups.png" height="400">
        <div class="cite">
            <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4635921/">Thiebaut de Schotten (2015)</a>
        </div>
    </section>

    <section>
        <h2>Automated tract segmentation</h2>
        <div class="row">
            <div class="imgcite two-col">
                <img align="center" src="img/AFQ-CST_L.gif" width="400">
            </div>
            <div class="imgcite two-col fragment">
                <img align="center" src="img/AFQ-CST_R.gif" width="400">
            </div>
        </div>
    </section>

    <section>
        <h2>Automated tract segmentation</h2>
        <div class="row">
            <div class="imgcite two-col">
                <img align="center" src="img/AFQ-ARC_L.gif" width="400">
            </div>
            <div class="imgcite two-col fragment">
                <img align="center" src="img/AFQ-ARC_R.gif" width="400">
            </div>
        </div>
    </section>

    <section>
        <h2>Automated tract segmentation</h2>
        <div class="row">
            <div class="imgcite two-col">
                <img align="center" src="img/AFQ-IFO_L.gif" width="400">
            </div>
            <div class="imgcite two-col fragment">
                <img align="center" src="img/AFQ-IFO_R.gif" width="400">
            </div>
        </div>
    </section>

    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/pyafq_segmentation1.gif" height="400">
    </section>

	<section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/tractometry0.png" height="450">
	</section>

    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/tractometry1.png" height="450">
	</section>

    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/tractometry2.png" height="450">
	</section>


    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/tractometry3.png" height="450">
    </section>

    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <img align="center" src="img/tractometry4.png" height="450">
	</section>

    <section>
        <h3>Tractometry</h3>
        <p>The tracts are the coordinate frame for quantitative analysis</p>
        <div class="imgcite two-col fragment" style="position:absolute; top:100px; left:80px;">
            <img align="center" src="img/tractometry6_1_1.png" height="450">
	    </div>
        <div class="imgcite two-col fragment" style="position:absolute; top:100px; left:80px;">
            <img align="center" src="img/tractometry6_1_2.png" height="450">
	    </div>
        <div class="imgcite two-col fragment" style="position:absolute; top:120px; left:450px;">
            <img align="center" src="img/tractometry6_2.png" height="450">
	    </div>

    </section>



    <section>
        <h2>Amyotrophic Lateral Sclerosis (ALS)</h2>
        <div class="row">
            <div class="imgcite two-col" style="position:absolute; top:100px; left:100px;">
                <img src="img/LouGehrigGoudeycard.jpg" width="250" align="middle">
        </div>
        <div class="imgcite two-col fragment" style="position:absolute; top:100px; left:450px;">
            <p class="fragment">Neurodegenerative disease</p>
            <p class="fragment">Affects motor neurons</p>
            <p class="fragment">Etiology varies widely</p>
        </div>
        </div>
    </section>

    <section>
        <div style="position:absolute; top:49px; left:-3px;">
            <img src="img/pyafq_segmentation1.gif" height=460>
        </div>
    </section>

    <section>
        <h3>Tractometry for group comparison</h3>
        <div class="row">
            <div class="imgcite two-col">
                <img src="img/pyafq_segmentation2.gif">
            </div>
            <div class="imgcite two-col">
                    <img data-fragment-index="2" src="img/right-arrow.png" height=20 style="position:absolute; top:280px; left:420px;">
        <img src="img/sarica_results2.png" height=300 style="position:absolute; top:200px; left:550px;">
            </div>
        <div class="cite" data-fragment-index="2">
			<a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/hbm.23412">Sarica et al. (2017)</a>

        </div>
    </section>

	<section>
        <h3>Tractometry for prediction</h3>
        <div class="row">
            <div class="imgcite two-col">
                <img src="img/pyafq_segmentation2.gif">
            </div>
            <div class="imgcite two-col">
                    <img data-fragment-index="2" src="img/right-arrow.png" height=20 style="position:absolute; top:280px; left:420px;">

                <p style="position:absolute; top:270px; left:550px;">Patient/Control?</p>
    </section>

    <section>
        <h2> Accurately classifies patients/controls</h2>
        <img src="img/als_classification_results.png" height="450px">
        <p>Classification accuracy of 93% (+/- 2%) <br> AUC of 0.978 (+/- 0.01)</p>
        <div class="cite">
            <a href="https://www.biorxiv.org/content/10.1101/2019.12.19.882928v1">Richie-Halford, Yeatman, Simon & <b>Rokem</b> (2020)</a>
        </div>
    </section>


    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4 style="color:#D3D3D3;">Studying brain connections with diffusion MRI </h4>
        <h4 style="color:#D3D3D3;">Automated tract segmentation and tractometry</h4>
        <h4 >Open-source software for diffusion MRI</h4>
        <h3 style="color:#D3D3D3;">Data-driven discovery in the cloud</h3>
        <h4 style="color:#D3D3D3;">Cloudknot: analysis at brain-observatory scale</h4>
        <h4 style="color:#D3D3D3;">browser-based visualization of brain connections</h4>
        </div>
    </section>




    <section>
        <h2>Open-source software for science</h2>
        <img src="img/nas_cover.png" height=300>
        <img src="img/nas.png" height=150>
    </section>

        <section>
            <h2> Community-developed open-source software</h2>
            <div class="row fragment" data-fragment-index="1">
            <div class="imgcite two-col">
                <div style="position: absolute; left:2em; top:3em">
                    <img src="img/nipy-logo.png"  align=middle height=200 width=200>
                    <br>
                    Neuroimaging in Python
                    <p class="fragment">
                    A community of practice
                    <p class="fragment">
                    Many different projects
                    <br>
                    <a href="nipy.org">http://nipy.org</a>
                </div>
            </div>
            <div class="imgcite two-col fragment">
                <img src="img/dipy-logo.png">
                Diffusion Imaging in Python
                <p class="fragment">
                Comprehensive
                <p class="fragment">
                Thoroughly tested
                <p class="fragment">
                Well-documented
                <br>
                <a href="dipy.org">http://dipy.org</a>
                <div class="cite" style="position: absolute; left:0px">
                        <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h2>Open to users</h2>
        <img src="img/dipy-pip-installs.png">
        <div class="cite" style="position: absolute; left:0px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
        </div>
    </section>

    <section>
            <h2>Open to contributors</h2>
            <img src="img/dipy_contributors.png">
            <div class="cite" style="position: absolute; left:0px">
            <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
            </div>
    </section>

    <section>
        <h2>Distributed collaboration</h2>
        <img src="img/dipy_global.png">
        <div class="cite" style="position: absolute; left:0px">
        <a href="https://www.frontiersin.org/articles/10.3389/fninf.2014.00008/full">Garyfallidis, Brett, Amirbekian, <b>Rokem</b>, van der Walt, Descoteaux, Nimmo Smith, and DIPY contributors (2014) Frontiers in Neuroinformatics</a>
        </div>
    </section>

    <section>
        <h2>Automated tract segmentation</h2>
        <a href="https://autofq.org">https://autofq.org</a>
            <iframe src="img/sub-01_ses-01_dwi_space-RASMM_model-DTI_desc-det-AFQ_viz.html" height="600" width="1000" title="AFQ"></iframe>
        <div class="cite">
        <a href="http://yeatmanlab.github.io/pyAFQ/">John Kruper et al.</a>
        </div>
    </section>

    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4 style="color:#D3D3D3;">Studying brain connections with diffusion MRI </h4>
        <h4 style="color:#D3D3D3;">Automated tract segmentation and tractometry</h4>
        <h4 style="color:#D3D3D3;">Open-source software for diffusion MRI</h4>
        <h3>Data-driven discovery in the cloud</h3>
        <h4>Cloudknot: analysis at brain-observatory scale</h4>
        <h4 style="color:#D3D3D3;">browser-based visualization of brain connections</h4>
        </div>
    </section>

    <section>
        <h2>We <3 cloud computing</h2>
        <div class="row">
            <div style="float: left; width: 45%;">
                <p class="fragment" data-fragment-index="1">Pros:</p>
                <ul>
                    <li class="fragment" data-fragment-index="1">Linear scalability</li>
                    <li class="fragment" data-fragment-index="2">Elasticity</li>
                    <li class="fragment" data-fragment-index="3">Ability to handle large datasets</li>
                </ul>
            </div>
            <div style="float: left; width: 55%;">
                <p class="fragment" data-fragment-index="4">Cons:</p>
                <ul>
                    <li class="fragment" data-fragment-index="5">Learning curve</li>
                    <li class="fragment" data-fragment-index="6">Complexity</li>
                    <li class="fragment" data-fragment-index="7">Cost</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>AWS Batch</h2>
        <div class="row">
            <div style="float: left; width: 20%;">
                <img src="img/Compute_AWSBatch_LARGE.png" height="250">
            </div>
            <div style="float: left; width: 78%; padding-left: 5px;">
                <p class="fragment">Pros:</p>
                <ul>
                    <li class="fragment">Abstracts away infrastructure details</li>
                    <li class="fragment">Dynamically provisions AWS resources based on requirements of user-submitted jobs</li>
                    <li class="fragment">Allows scientists to run 100,000+ batch jobs</li>
                </ul>
                <p class="fragment">Cons:</p>
                <ul>
                    <li class="fragment">AWS Web Console resists automation</li>
                    <li class="fragment">Requires learning new terminology</li>
                    <li class="fragment">Does not easily facilitate reproducibility</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>AWS Batch workflow</h2>
        <ul>
            <li class="fragment">Build a Docker image (local machine)</li>
            <li class="fragment">Create an Amazon ECR repository for the image (web)</li>
            <li class="fragment">Push the build image to ECR (local machine)</li>
            <li class="fragment">Create IAM Roles, compute environment, job queue (web)</li>
            <li class="fragment">Create a job definition that uses the built image (web)</li>
            <li class="fragment">Submit jobs (web)</li>
        </ul>
    </section>

    <section>
        <h2>Challenge</h2>
        <p>Reap the benefits of AWS Batch without leaving our development environment</p>
        <p>For example: Jupyter notebook running locally on our laptop</p>
    </section>

    <section id="prev-work">
        <h2>Previous attempts</h2>
        <p>Other projects have sought to lower AWS barrier to entry</p>
        <ul>
            <li>PiCloud (2010), acquired by Dropbox in 2013</li>
            <li><a href="http://pywren.io/">pyWren</a> (2017), built on AWS Lambda</li>
            <ul>
                <li>5 minute execution time</li>
                <li>1.5 GB of RAM</li>
                <li>512 MB local storage</li>
                <li>no root access</li>
            </ul>
        </ul>
    </section>

    <section id="design">
        <h2>Cloudknot</h2>
    </section>
    <section id="single-program">
        <h2>Single Program</h2>
        <div class="row">
            <div style="float: left; width: 45%;">
                <pre class="stretch"><code data-trim data-noescape>
                    import cloudknot as ck

                    def awesome_func(...):
                        ...

                    knot = <mark>ck.Knot(func=awesome_func)</mark>




                </code></pre>
            </div>
            <div style="float: left; width: 55%;">
                <img src="img/cloudknot_single_program.svg" height="500" align="middle" alt="Cloudknot workflow">
            </div>
        </div>
    </section>
    <!--<section id="docker">-->
        <!--<h2>Why Docker?</h2>-->
        <!--<ul>-->
            <!--<li>Containerization: operating-system-level virtualization</li>-->
            <!--<li>Lightweight, layered images capture all dependencies</li>-->
            <!--<li>Hosted on AWS ECR</li>-->
            <!--<li>Parameter for AWS Batch Job Definitions using <code>docker run</code></li>-->
        <!--</ul>-->
    <!--</section>-->
    <section id="multiple-data">
        <h2>Multiple Data</h2>
        <div class="row">
            <div style="float: left; width: 45%;">
                <pre class="stretch"><code data-trim data-noescape>
                    import cloudknot as ck

                    def awesome_func(...):
                        ...

                    knot = ck.Knot(func=awesome_func)

                    ...

                    future = <mark>knot.map(args)</mark>
                </code></pre>
            </div>
            <div style="float: left; width: 55%;">
                <img src="img/cloudknot_workflow.svg" height="500" align="middle" alt="Cloudknot workflow">
            </div>
        </div>
    </section>

    <section>
        <p>Compare to Dask, Myria, Spark using previous benchmark study<br> (<a href="http://www.vldb.org/pvldb/vol10/p1226-mehta.pdf">Mehta et al., 2017</a>).</p>
        <img src="img/mri_benchmark.png" height="400", style="background-color:white;">
    </section>

    <section id="mri-takeaways">
        <h2>Analysis of MRI data</h2>
        <h3>Takeaway</h3>
        <ul>
            <li>Previous MRI benchmark was performed by a team of 4 graduate students and postdocs over 6 months.</li>
            <li>Cloudknot implementation took Ariel one day to write</li>
            <li>For 25 subjects, Cloudknot was 10-25% slower</li>
            <li>Cloudknot favors workloads where development time is more important than execution time</li>
        </ul>
    </section>


    <section id="conclusion">
        <h2>Conclusion</h2>
        <ul>
            <li class="fragment" data-fragment-index="1">Cloudknot favors workloads where development time matters more than execution time.</li>
            <li class="fragment" data-fragment-index="1">For many data science problems, this is an acceptable trade.</li>
            <li class="fragment" data-fragment-index="2">Simplified API makes cloud computing more accessible.</li>
            <ol class="fragment" data-fragment-index="2">
                <p><code>import cloudknot</code></p>
                <p><code>knot = cloudknot.Knot()</code></p>
                <p><code>results = knot.map(sequence)</code></p>
            </ul>
        </ul>
    </section>

    <section>
        <p>Github repo: <a href="https://github.com/nrdg/cloudknot">https://github.com/nrdg/cloudknot</a></p>
        <p>Documentation: <a href="https://nrdg.github.io/cloudknot">https://nrdg.github.io/cloudknot/index.html</a></p>
        <p>We welcome issues and contributions!</p>
    </section>
    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4 style="color:#D3D3D3;">Studying brain connections with diffusion MRI </h4>
        <h4 style="color:#D3D3D3;">Automated tract segmentation and tractometry</h4>
        <h4 style="color:#D3D3D3;">Open-source software for diffusion MRI</h4>
        <h3>Data-driven discovery in the cloud</h3>
        <h4 style="color:#D3D3D3;">Cloudknot: analysis at brain-observatory scale</h4>
        <h4 >browser-based visualization of brain connections</h4>
        </div>
    </section>


    <section>
        <p class="fragment">Results from large multi-dimensional datasets are hard to understand</p>
		<p class="fragment">Hard to communicate</p>
		<p class="fragment">Hard to reproduce</p>
		<h3 class="fragment">Solution: tools for exploration with data sharing built in!</h3>
	</section>

	<section>
		<h3>A browser-based tool for visualization and analysis of diffusion MRI data</h3>
        <p class="fragment">A web-based application</p>
        <p class="fragment">Leverages modern visualization frameworks</p>
		<p class="fragment">Builds a web-site for a diffusion MRI dataset</p>
		<p class="fragment">Automatically uploads the website to GitHub</p>
		<div class="cite" style="position: absolute; left:380px">
			<a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan & <b>Rokem</b> (2018)</a>
		</div>
	</section>


	<section>
		<h3><a href="https://yeatmanlab.github.io/Sarica_2017">https://yeatmanlab.github.io/Sarica_2017</a></h3>

		<video width="800" autoplay loop>
			<source src="./img/afq-browser-demo.mp4">
		</video>

		<div class="cite" style="position: absolute; left:380px">
            <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan & <b>Rokem</b> (2018)</a>
        </div>

	</section>

    <section>
		<h2> Exploratory data analysis</h2>

		<p class="fragment">Enhances published results<p>
		<p class="fragment">Linked visualizations facilitate easy exploration</p>
        <p class="fragment">Enables new discoveries in old datasets</p>
        <p class="fragment">Generates hypotheses for new research</p>

		<div class="cite" style="position: absolute; left:380px">
            <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan & <b>Rokem</b> (2018)</a>
        </div>
	</section>

	<section>
		<h2>Automatic data sharing</h2>

		<img src="./img/afq-browser-static.png" height="400px">

		<svg class="fragment" data-fragment-index="1" width="400" height="110"  style="position: absolute; left:435px; top:435px;">
			<rect rx="10" ry="10" width="150" height="60" style="fill:yellow;stroke-width:3;stroke:rgb(1,0,0);opacity:0.4;" />
		</svg>
        <p class="fragment" data-fragment-index="2" style="position: absolute; top:500px; left:400px;">
        <a href="http://afqvault.org">http://afqvault.org</a>
        </p>
		<div class="cite" style="position: absolute; left:380px">
                <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford, Smith, Keshavan & <b>Rokem</b> (2018)</a>
        </div>
	</section>

	<section>
        <h2>Data sharing broadens access</h2>
        <p class="fragment">MRI data analysis requires specific expertise</p>
        <p class="fragment">Tract segmentation and tractometry generates data in a tidy table format (CSV)</p>
        <p class="fragment">Facilitates interdisciplinary collaboration</p>
		<div class="cite" style="position: absolute; left:380px">
            <a href="https://www.nature.com/articles/s41467-018-03297-7">Yeatman, Richie-Halford,  Smith, Keshavan & <b>Rokem</b> (2018)</a>
        </div>
	</section>

    <section>
        <h2>Outline</h2>
        <div align="left">
        <h3>Data-driven discovery in human neuroscience</h3>
        <h4>Studying brain connections with diffusion MRI </h4>
        <h4>Automated tract segmentation and tractometry</h4>
        <h4>Open-source software for diffusion MRI</h4>
        <h3>Data-driven discovery in the cloud</h3>
        <h4>Cloudknot: analysis at brain-observatory scale</h4>
        <h4>browser-based visualization of brain connections</h4>
        </div>
    </section>


	<section>
		<h2> Thanks! </h2>
		<div style="position: absolute; left:0px; top:100px;" align="left">
			Adam Richie-Halford
			<br>
            John Kruper
            <br>
			Anisha Keshavan
			<br>
            Josh Smith
			<br>
			Jason Yeatman (Stanford)
			<br>
			Noah Simon (UW Biostats)
			<br>
			Eleftherios Garyfallidis (IU)
		</div>

		<div style="position: absolute; left:500px; top:80px;">
			<img src="img/msdse-sponsors.png" height="50px">
			<br>
			<img src="img/nimh-logo.gif" height="50px">
			<img src="img/nibib-logo.png" height="50px">
			<br>
			<img src="img/BMGF-logo.png" height="100px">
			<img src="img/nsf-logo.jpeg" height="100px">
			<br>
			<img src="img/eScience.png" height="80px">
		</div>

	</section>

	<section>

			<div style="position:absolute; left: 200px; top:-120px;">
			<h2>Contact information</h2>
			</div>
			<div style="position:absolute; left: 220px; top:-50px;">
			<img src="img/globe-xxl.png" width="100px;" >
			<div style="position:absolute; left: 120px; top:40px;">http://arokem.org
			</div>
			</div>
			<div style="position:absolute; left: 220px; top:70px;">
			<img src="img/email-11-xxl.png" width="100px;" >
			<div style="position:absolute; left: 120px; top:40px;">arokem@gmail.com
			</div>
			</div>
			<div style="position:absolute; left: 220px; top:190px;">
			<img src="img/twitter-xxl.png" width="100px;" >
			<div style="position:absolute; left: 120px; top:40px;">@arokem
			</div>
			</div>
			<div style="position:absolute; left: 220px; top:310px;">
			<img src="img/github-6-xxl.png" width="100px;" >
			<div style="position:absolute; left: 120px; top:40px;">github.com/arokem
			</div>
			</div>

	</section>


	</div>
	</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				controls: true,
				progress: true,
				center: true,

				transition: 'fade', // none/fade/slide/convex/concave/zoom

				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>

	</body>
</html>
